<app-toolbar></app-toolbar>
<div class="tracking-details">
  <div class="tracking-header">
    <h1 class="tracking-title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect width="18" height="18" x="3" y="3" rx="2" />
        <path d="M3 9h18" />
        <path d="M9 21V9" />
      </svg>
      Seguimiento de tu vehículo
    </h1>
    <button class="new-search-btn" (click)="newSearch()">Realizar otra consulta</button>
  </div>

  <div *ngIf="isLoading" class="loading">
    <p>Cargando información del vehículo...</p>
  </div>

  <div *ngIf="error" class="error">
    <p>Ha ocurrido un error al cargar la información. Por favor, intenta nuevamente.</p>
  </div>

  <div *ngIf="!isLoading && !error && vehicleData">
    <div class="info-section">
      <h2 class="info-title">Información de la reparación</h2>

      <div class="info-grid">
        <div class="info-item">
          <div class="info-label">N° de placa</div>
          <div class="info-value">{{ vehicleData.vehicleInfo.plateNumber }}</div>
        </div>

        <div class="info-item">
          <div class="info-label">Año</div>
          <div class="info-value">{{ vehicleData.vehicleInfo.year }}</div>
        </div>

        <div class="info-item">
          <div class="info-label">Modelo</div>
          <div class="info-value">{{ vehicleData.vehicleInfo.model }}</div>
        </div>

        <div class="info-item">
          <div class="info-label">Marca</div>
          <div class="info-value">{{ vehicleData.vehicleInfo.make }}</div>
        </div>

        <div class="info-item">
          <div class="info-label">Tipo de reparación</div>
          <div class="info-value">{{ vehicleData.repairInfo.type }}</div>
        </div>

        <div class="info-item">
          <div class="info-label">Fecha de ingreso</div>
          <div class="info-value">{{ vehicleData.repairInfo.startDate }}</div>
        </div>
      </div>

      <div class="notes">
        <div class="notes-label">Nota:</div>
        <div class="notes-content">{{ vehicleData.repairInfo.notes }}</div>
      </div>

      <div class="services-section">
        <div class="services-title">Servicios:</div>
        <div class="services-tags">
          <span class="service-tag">Lorem ipsum</span>
          <span class="service-tag">Lorem ipsum</span>
          <span class="service-tag">Lorem ipsum</span>
          <span class="service-tag">Lorem ipsum</span>
        </div>
      </div>
    </div>

    <div class="states-section">
      <div class="states-grid">
        <div class="state-card" *ngFor="let state of vehicleData.repairStates">
          <div class="state-image">
            <img [src]="state.imageUrl" [alt]="state.title">
          </div>
          <div class="state-content">
            <h3 class="state-title">{{ state.title }}</h3>
            <p class="state-description">{{ state.description }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
